**April 16, 2023**

# Exercise 1.15

> The sine of an angle (specified in radians) can be computed by making use of the approximation sin _x_ ~= _x_ if _x_ is sufficiently small, and the trigonometric identity
> 
> sin _x_ = 3*sin(_x_/3) - 4*sin^3(_x_/3)
> 
> to reduce the size of the argument of sin. (For purposes of this exercise and angle is considered "sufficiently small" if its magnitude is not greater than 0.1 radians.)  
> These ideas are incorporated in the following procedures:
```scheme
(define (cube x) (* x x x))

(define (p x) (- (* 3 x) (* 4 (cube x))))

(define (sine angle)
    (if (not (> (abs angle) 0.1))
        angle
        (p (sine (/ angle 3.0)))))
```
> a. How many times is the procedure p applied when `(sine 12.15)` is evaluated?   
> b. What is the order of growth in space and number of steps (as a function of _a_) used by the process generated by the `sine` procedure when `(sine a)` is evaluated?

## a

> How many times is the procedure p applied when `(sine 12.15)` is evaluated?

We can observe that `p` is called every time `(abs angle)` is greater than 0.1, dividing `angle` by 3.0 for every iteration until `(abs angle)` is less than or equal to 0.1.

Using this observation we can manually calculate the number of times `p` is called by dividing `angle` by 3.0 until `angle` is less than or equal to 0.1.

1. 12.15 / 3.0
1.  4.05 / 3.0
1.  1.35 / 3.0
1.  0.45 / 3.0
1.  0.15 / 3.0
1.  0.05

This tells us that `p` will be called 5 times, as it is not called on the final iteration because `angle` is 0.05, which is less than 0.1.

## b

> What is the order of growth in space and number of steps (as a function of _a_) used by the process generated by the `sine` procedure when `(sine a)` is evaluated?

The angle _a_ is divided by 3 every time the procedure _p_ is called. We can express this differently by saying that _p_ is called once for each complete power of 3 in _a_.
Therefore, we can say that the number of steps required is equal to the ceiling of the base 3 logarithm divided by the logarithm of the angle _a_ divided by 0.1, or `(ceiling (/ (log (/ 12.15 0.1)) (log 3)))`.

To make this generic, we can express the number of steps for any positive angle _a_ as `(ceiling (/ (log (/ a 0.1)) (log 3)))`.

And simplifying this further allows us to say that the order of growth in both space and number of steps as a function of _a_ is O(log(_a_)), and that this procedure has a logarithmic order of growth.

### Footnotes

I initially thought that the order of growth was linear, but that didn't sit right with me, so I moved on to thinking of logarithmic growth.
Unfortunately I wasn't confident enough in my knowledge of logarithms to fully commit, and so checked the answer at [the sicp solutions website](http://community.schemewiki.org/?sicp-ex-1.15).

